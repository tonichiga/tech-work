{"version":3,"sources":["webpack:///./template/template.hbs","webpack:///./phone-book.js"],"names":["Handlebars","module","exports","template","container","depth0","helpers","partials","data","helper","alias1","nullContext","alias2","hooks","helperMissing","alias4","escapeExpression","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","stack1","program","noop","refs","createBtn","document","querySelector","loginInput","passwordInput","getItem","getItemList","loginBtn","createName","createNumber","createUserBtn","token2","user","name","number","headers","Authorization","addEventListener","e","options","method","body","JSON","stringify","fetch","then","res","json","contacts","console","log","fetchContact","createContact","preventDefault","target","value","deleteId","nodeName","innerHTML","dataset","id","deleteContact","getContacts","array","getMarkup","markup","insertAdjacentHTML"],"mappings":"gFAAA,IAAIA,EAAa,EAAQ,QAEzBC,EAAOC,SAAWF,EAAoB,SAAKA,GAAYG,SAAS,CAAC,EAAI,SAASC,EAAUC,EAAOC,EAAQC,EAASC,GAC5G,IAAIC,EAAQC,EAAiB,MAAVL,EAAiBA,EAAUD,EAAUO,aAAe,GAAKC,EAAOR,EAAUS,MAAMC,cAAkCC,EAAOX,EAAUY,iBAAkBC,EAAiBb,EAAUa,gBAAkB,SAASC,EAAQC,GAClO,GAAIC,OAAOC,UAAUC,eAAeC,KAAKL,EAAQC,GAC/C,OAAOD,EAAOC,IAKtB,MAAO,wHACHJ,EARuH,mBAQ9GN,EAAmH,OAAzGA,EAASQ,EAAeX,EAAQ,UAAsB,MAAVD,EAAiBY,EAAeZ,EAAO,QAAUA,IAAmBI,EAASG,GAAoCH,EAAOc,KAAKb,EAAO,CAAC,KAAO,OAAO,KAAO,GAAG,KAAOF,EAAK,IAAM,CAAC,MAAQ,CAAC,KAAO,EAAE,OAAS,IAAI,IAAM,CAAC,KAAO,EAAE,OAAS,OAASC,GAChT,qDACAM,EAVuH,mBAU9GN,EAAuH,OAA7GA,EAASQ,EAAeX,EAAQ,YAAwB,MAAVD,EAAiBY,EAAeZ,EAAO,UAAYA,IAAmBI,EAASG,GAAoCH,EAAOc,KAAKb,EAAO,CAAC,KAAO,SAAS,KAAO,GAAG,KAAOF,EAAK,IAAM,CAAC,MAAQ,CAAC,KAAO,EAAE,OAAS,IAAI,IAAM,CAAC,KAAO,EAAE,OAAS,OAASC,GACtT,oGACAM,EAZuH,mBAY9GN,EAA+G,OAArGA,EAASQ,EAAeX,EAAQ,QAAoB,MAAVD,EAAiBY,EAAeZ,EAAO,MAAQA,IAAmBI,EAASG,GAAoCH,EAAOc,KAAKb,EAAO,CAAC,KAAO,KAAK,KAAO,GAAG,KAAOF,EAAK,IAAM,CAAC,MAAQ,CAAC,KAAO,EAAE,OAAS,IAAI,IAAM,CAAC,KAAO,EAAE,OAAS,OAASC,GAC1S,iFACJ,SAAW,CAAC,EAAE,YAAY,KAAO,SAASL,EAAUC,EAAOC,EAAQC,EAASC,GAC1E,IAAIgB,EAON,OAA8R,OAArRA,GAPsBpB,EAAUa,gBAAkB,SAASC,EAAQC,GACtE,GAAIC,OAAOC,UAAUC,eAAeC,KAAKL,EAAQC,GAC/C,OAAOD,EAAOC,KAKWb,EAAQ,QAAQiB,KAAe,MAAVlB,EAAiBA,EAAUD,EAAUO,aAAe,GAAIN,EAAO,CAAC,KAAO,OAAO,KAAO,GAAG,GAAKD,EAAUqB,QAAQ,EAAGjB,EAAM,GAAG,QAAUJ,EAAUsB,KAAK,KAAOlB,EAAK,IAAM,CAAC,MAAQ,CAAC,KAAO,EAAE,OAAS,GAAG,IAAM,CAAC,KAAO,EAAE,OAAS,OAAiBgB,EAAS,IAC9S,SAAU,K,iICxBNG,EAAO,CACXC,UAAWC,SAASC,cAAc,oBAClCC,WAAYF,SAASC,cAAc,eACnCE,cAAeH,SAASC,cAAc,kBACtCG,QAASJ,SAASC,cAAc,yBAChCI,YAAaL,SAASC,cAAc,mBACpCK,SAAUN,SAASC,cAAc,mBACjCM,WAAYP,SAASC,cAAc,qBACnCO,aAAcR,SAASC,cAAc,uBACrCQ,cAAeT,SAASC,cAAc,gBAKlCS,EACJ,wJASIC,EAAO,CACXC,KAAM,GACNC,OAAQ,IAWJC,EAAU,CACdC,cAAe,UAAUL,GAoB3BZ,EAAKW,cAAcO,iBAAiB,SAAS,SAACC,IAjBxB,SAACN,GACrB,IAAMO,EAAU,CACdC,OAAQ,OACRC,KAAMC,KAAKC,UAAUX,GACrBG,QAAS,CACPC,cAAe,UAAUL,EACzB,eAAgB,oCAGba,MAAM,oDAAqDL,GAC/DM,MAAK,SAACC,GAAD,OAASA,EAAIC,UAClBF,MAAK,SAACG,GACLC,QAAQC,IACRC,OAKJC,CAAcpB,GAEdM,EAAEe,oBAGJlC,EAAKS,WAAWS,iBAAiB,SAAS,SAACC,GACzCN,EAAKC,KAAOK,EAAEgB,OAAOC,SAGvBpC,EAAKU,aAAaQ,iBAAiB,SAAS,SAACC,GAE3CN,EAAKE,OAASI,EAAEgB,OAAOC,SAGzBpC,EAAKO,YAAYW,iBAAiB,SAAS,SAACC,GAC1C,IAAIkB,EAAW,GAEW,WAAtBlB,EAAEgB,OAAOG,WACXtC,EAAKO,YAAYgC,UAAY,GAC7BF,EAAWlB,EAAEgB,OAAOK,QAAQC,GAC5BC,EAAcL,GACdM,IAAcjB,MAAK,SAACG,GAClB,IAAIe,EAAQ,GAAH,OAAOf,GAGhBgB,EAAUD,EAAOf,UAIvB,IAAMa,EAAgB,SAACD,GAQrB,OAAOhB,MAAM,qDAC0CgB,EARvC,CACdpB,OAAQ,SACRL,QAAS,CACPC,cAAe,UAAUL,EACzB,eAAgB,qCAMlBc,MAAK,SAACC,GAAD,OAASA,EAAIC,WAGhBI,EAAe,WACnBhC,EAAKO,YAAYgC,UAAY,GAE7BI,IAAcjB,MAAK,SAACG,GAClB,IAAIe,EAAQ,GAAH,OAAOf,GAEhBgB,EAAUD,EAAOf,OAIfc,EAAc,WAClB,OAAOlB,MAAM,oDAAqD,CAChET,YACCU,MAAK,SAACC,GAAD,OAASA,EAAIC,WAGjBiB,EAAY,SAACD,EAAOf,GACxB,IAAMiB,EAAStE,IAASoE,GACxB5C,EAAKO,YAAYwC,mBAAmB,YAAaD,IAGnDd,M","file":"main.8d2099f624b9c7bad648.js","sourcesContent":["var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<li class=\\\"phonebook-item\\\" >\\r\\n    <ul class=\\\"phonebook-list-contact\\\" >\\r\\n        <li class=\\\"phonebook__list-item\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"name\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":4,\"column\":41},\"end\":{\"line\":4,\"column\":49}}}) : helper)))\n    + \"</li>\\r\\n        <li class=\\\"phonebook__list-item\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"number\") || (depth0 != null ? lookupProperty(depth0,\"number\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"number\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":5,\"column\":41},\"end\":{\"line\":5,\"column\":51}}}) : helper)))\n    + \"   \\r\\n    </ul>\\r\\n    <div class=\\\"phonebook-btn-delete-wrapper\\\"><button type=\\\"button\\\" data-id=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"id\") || (depth0 != null ? lookupProperty(depth0,\"id\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"id\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":7,\"column\":77},\"end\":{\"line\":7,\"column\":83}}}) : helper)))\n    + \"\\\" class=\\\"phonebook__list-item-btn-delete\\\">Удалить</button></div>\\r\\n</li>\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),depth0,{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":0},\"end\":{\"line\":9,\"column\":9}}})) != null ? stack1 : \"\");\n},\"useData\":true});","import template from \"./template/template.hbs\";\r\n\r\nconst refs = {\r\n  createBtn: document.querySelector(\".main-btn-create\"),\r\n  loginInput: document.querySelector(\".form-login\"),\r\n  passwordInput: document.querySelector(\".form-password\"),\r\n  getItem: document.querySelector(\".phonebook__list-item\"),\r\n  getItemList: document.querySelector(\".phonebook-list\"),\r\n  loginBtn: document.querySelector(\".main-btn-login\"),\r\n  createName: document.querySelector(\".form-create-name\"),\r\n  createNumber: document.querySelector(\".form-create-number\"),\r\n  createUserBtn: document.querySelector(\".create-btn\"),\r\n};\r\nconst token =\r\n  \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI1ZmZjZDg4M2I3MjliNDAwMTc0ZjQyNzMiLCJpYXQiOjE2MTA0NDUyOTF9.OphgquM_rUIzaRjmeRL5Mqc_AMJuyh3Ix_sKbrcBBtg\";\r\n\r\nconst token2 =\r\n  \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI1ZmZkNzMxOWRkMWQwMjAwMTc1Y2QxOWEiLCJpYXQiOjE2MTA0NDU1OTN9.XgthA6bCq0fOxYZrk0f9fLimH1uT0_Xav-eLnTBfMxE\";\r\n\r\n// const newUser = {\r\n//   name: \"user\",\r\n//   password: \"1234567\",\r\n//   email: \"tonichiga@gmail1.com\",\r\n// };\r\nconst allContacts = [];\r\n\r\nconst user = {\r\n  name: \"\",\r\n  number: \"\",\r\n};\r\n\r\n// const options = {\r\n//   method: \"POST\",\r\n//   body: JSON.stringify(newUser),\r\n//   headers: {\r\n//     \"Content-Type\": \"application/json; charset=UTF-8\",\r\n//   },\r\n// };\r\n\r\nconst headers = {\r\n  Authorization: `Bearer ${token2}`,\r\n};\r\n\r\nconst createContact = (user) => {\r\n  const options = {\r\n    method: \"POST\",\r\n    body: JSON.stringify(user),\r\n    headers: {\r\n      Authorization: `Bearer ${token2}`,\r\n      \"Content-Type\": \"application/json; charset=UTF-8\",\r\n    },\r\n  };\r\n  return fetch(`https://goit-phonebook-api.herokuapp.com/contacts`, options)\r\n    .then((res) => res.json())\r\n    .then((contacts) => {\r\n      console.log;\r\n      fetchContact();\r\n    });\r\n};\r\n\r\nrefs.createUserBtn.addEventListener(\"click\", (e) => {\r\n  createContact(user);\r\n\r\n  e.preventDefault();\r\n});\r\n\r\nrefs.createName.addEventListener(\"input\", (e) => {\r\n  user.name = e.target.value;\r\n});\r\n\r\nrefs.createNumber.addEventListener(\"input\", (e) => {\r\n  //   console.log(e.target.value);\r\n  user.number = e.target.value;\r\n});\r\n\r\nrefs.getItemList.addEventListener(\"click\", (e) => {\r\n  let deleteId = \"\";\r\n\r\n  if (e.target.nodeName === \"BUTTON\") {\r\n    refs.getItemList.innerHTML = \"\";\r\n    deleteId = e.target.dataset.id;\r\n    deleteContact(deleteId);\r\n    getContacts().then((contacts) => {\r\n      let array = [...contacts];\r\n      //   allContacts.push(...array);\r\n\r\n      getMarkup(array, contacts);\r\n    });\r\n  }\r\n});\r\nconst deleteContact = (id) => {\r\n  const headers = {\r\n    method: \"DELETE\",\r\n    headers: {\r\n      Authorization: `Bearer ${token2}`,\r\n      \"Content-Type\": \"application/json; charset=UTF-8\",\r\n    },\r\n  };\r\n  return fetch(\r\n    `https://goit-phonebook-api.herokuapp.com/contacts/${id}`,\r\n    headers\r\n  ).then((res) => res.json());\r\n};\r\n\r\nconst fetchContact = () => {\r\n  refs.getItemList.innerHTML = \"\";\r\n\r\n  getContacts().then((contacts) => {\r\n    let array = [...contacts];\r\n    // allContacts.push(...array);\r\n    getMarkup(array, contacts);\r\n  });\r\n};\r\n\r\nconst getContacts = () => {\r\n  return fetch(`https://goit-phonebook-api.herokuapp.com/contacts`, {\r\n    headers,\r\n  }).then((res) => res.json());\r\n};\r\n\r\nconst getMarkup = (array, contacts) => {\r\n  const markup = template(array);\r\n  refs.getItemList.insertAdjacentHTML(\"beforeend\", markup);\r\n};\r\n\r\nfetchContact();\r\n"],"sourceRoot":""}